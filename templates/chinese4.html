<html>
  <head>
    <style>
      table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <div id="checkboxContainer">
      <input type="checkbox" id="value1" value="value1" checked />
      <label for="value1">Value 1</label>
      <input type="checkbox" id="value2" value="value2" checked />
      <label for="value2">Value 2</label>
      <input type="checkbox" id="value3" value="value3" checked />
      <label for="value3">Value 3</label>
    </div>
    <table id="dataTable">
      <tr>
        <th>Data</th>
      </tr>
      <tr>
        <td data-value="value1">Data 1</td>
      </tr>
      <tr>
        <td data-value="value2">Data 2</td>
      </tr>
      <tr>
        <td data-value="value3">Data 3</td>
      </tr>
      <tr>
        <td data-value="value1">Data 4</td>
      </tr>
      <tr>
        <td data-value="value2">Data 5</td>
      </tr>
    </table>

    <script>
      // Get references to the checkboxes and table
      var checkboxes = document.querySelectorAll("#checkboxContainer input[type='checkbox']");
      var table = document.getElementById("dataTable");

      // Add change listeners to the checkboxes
      for (var i = 0; i < checkboxes.length; i++) {
        checkboxes[i].addEventListener("change", filterTable);
      }

      // Function to filter the table based on checkbox selections
      function filterTable() {
        // Get an array of all selected checkbox values
        var selectedValues = [];
        for (var i = 0; i < checkboxes.length; i++) {
          if (checkboxes[i].checked) {
            selectedValues.push(checkboxes[i].value);
          }
        }

        // Loop through all rows in the table
        for (var i = 1; i < table.rows.length; i++) {
          var row = table.rows[i];
          var dataValue = row.cells[0].getAttribute("data-value");

          // Show or hide the row based on whether its data value is selected
          if (selectedValues.indexOf(dataValue) === -1) {
            row.style.display = "none";
          } else {
            row.style.display = "";
          }
        }
      }

      // Filter the table initially
      filterTable();
    </script>
  </body>
</html>
